---
title: "Sandbox"
description: "Create, connect to, and manage sandbox lifecycles"
---

The `Sandbox` class is the main entry point to OpenSandbox. Use it to create new sandboxes, connect to existing ones, and access all sub-modules (commands, filesystem, PTY, templates).

## Creating a Sandbox

```typescript
import { Sandbox } from '@opencomputer/sdk';

const sandbox = await Sandbox.create({
  template: 'default',
  timeout: 300,
  envs: { NODE_ENV: 'production' },
  metadata: { owner: 'my-agent' },
});
```

### `Sandbox.create(opts?)`

Creates a new sandbox and returns a connected `Sandbox` instance.

<ParamField body="opts" type="SandboxOpts" optional>
  <Expandable title="properties">
    <ParamField body="template" type="string" default="default">
      Container template to use.
    </ParamField>
    <ParamField body="timeout" type="number" default="300">
      Sandbox time-to-live in seconds.
    </ParamField>
    <ParamField body="apiKey" type="string" optional>
      API key. Falls back to `OPENCOMPUTER_API_KEY` env var.
    </ParamField>
    <ParamField body="apiUrl" type="string" optional>
      API base URL. Falls back to `OPENCOMPUTER_API_URL` env var, then `https://app.opencomputer.dev`.
    </ParamField>
    <ParamField body="envs" type="Record<string, string>" optional>
      Environment variables injected into the sandbox.
    </ParamField>
    <ParamField body="metadata" type="Record<string, string>" optional>
      Arbitrary key-value metadata attached to the sandbox.
    </ParamField>
  </Expandable>
</ParamField>

**Returns:** `Promise<Sandbox>`

## Connecting to an Existing Sandbox

```typescript
const sandbox = await Sandbox.connect('sandbox-abc123', {
  apiKey: 'sk-...',
});
```

### `Sandbox.connect(sandboxId, opts?)`

Connects to a running sandbox by ID.

<ParamField body="sandboxId" type="string" required>
  The ID of the sandbox to connect to.
</ParamField>

<ParamField body="opts" type="object" optional>
  <Expandable title="properties">
    <ParamField body="apiKey" type="string" optional>
      API key override.
    </ParamField>
    <ParamField body="apiUrl" type="string" optional>
      API URL override.
    </ParamField>
  </Expandable>
</ParamField>

**Returns:** `Promise<Sandbox>`

## Properties

| Property | Type | Description |
| --- | --- | --- |
| `sandboxId` | `string` | Unique identifier for the sandbox |
| `domain` | `string` | Public domain for the sandbox (e.g. `abc123.workers.opencomputer.dev`). HTTP traffic to this domain is routed directly into the sandbox. |
| `status` | `string` | Current status: `"running"`, `"stopped"`, or `"error"` |
| `files` | `Filesystem` | [Filesystem](/sdks/typescript/filesystem) operations |
| `commands` | `Commands` | [Command](/sdks/typescript/commands) execution |
| `pty` | `Pty` | [PTY](/sdks/typescript/pty) terminal access |

## Instance Methods

### `sandbox.kill()`

Stops and destroys the sandbox. All data is lost.

```typescript
await sandbox.kill();
```

**Returns:** `Promise<void>`

### `sandbox.isRunning()`

Checks if the sandbox is still alive.

```typescript
const alive = await sandbox.isRunning();
if (!alive) {
  console.log('Sandbox has stopped');
}
```

**Returns:** `Promise<boolean>`

### `sandbox.setTimeout(timeout)`

Updates the sandbox timeout. Resets the TTL countdown.

```typescript
// Extend the sandbox for another 10 minutes
await sandbox.setTimeout(600);
```

<ParamField body="timeout" type="number" required>
  New timeout in seconds.
</ParamField>

**Returns:** `Promise<void>`
