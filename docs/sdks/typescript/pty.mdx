---
title: "PTY"
description: "Interactive terminal sessions inside a sandbox"
---

The `Pty` module provides interactive pseudo-terminal (PTY) sessions over WebSocket. Access it via `sandbox.pty`.

## Creating a PTY Session

```typescript
const session = await sandbox.pty.create({
  cols: 120,
  rows: 40,
  onOutput: (data) => {
    process.stdout.write(data);
  },
});
```

### `sandbox.pty.create(opts?)`

Opens a new interactive terminal session.

<ParamField body="opts" type="PtyOpts" optional>
  <Expandable title="properties">
    <ParamField body="cols" type="number" optional>
      Terminal width in columns.
    </ParamField>
    <ParamField body="rows" type="number" optional>
      Terminal height in rows.
    </ParamField>
    <ParamField body="onOutput" type="(data: Uint8Array) => void" optional>
      Callback invoked when the terminal produces output.
    </ParamField>
  </Expandable>
</ParamField>

**Returns:** `Promise<PtySession>`

## PtySession

| Property / Method | Type | Description |
| --- | --- | --- |
| `sessionId` | `string` | Unique session identifier |
| `send(data)` | `(data: string \| Uint8Array) => void` | Send input to the terminal |
| `close()` | `() => void` | Close the PTY session |

## Examples

### Run an Interactive Command

```typescript
const session = await sandbox.pty.create({
  onOutput: (data) => {
    const text = new TextDecoder().decode(data);
    process.stdout.write(text);
  },
});

// Type a command
session.send('ls -la\n');

// Wait a moment for output, then close
setTimeout(() => session.close(), 2000);
```

### Pipe User Input

```typescript
const session = await sandbox.pty.create({
  cols: 80,
  rows: 24,
  onOutput: (data) => {
    process.stdout.write(new TextDecoder().decode(data));
  },
});

// Forward stdin to the PTY
process.stdin.setRawMode(true);
process.stdin.on('data', (chunk) => {
  session.send(chunk);
});
```

<Note>
  PTY sessions use WebSocket connections under the hood. Each session maintains a persistent connection to the sandbox worker.
</Note>
