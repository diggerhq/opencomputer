---
title: "Sandbox"
description: "Create, connect to, and manage sandbox lifecycles"
---

The `Sandbox` class is the main entry point to OpenSandbox. It supports both manual lifecycle management and async context managers.

## Creating a Sandbox

```python
from opencomputer import Sandbox

sandbox = await Sandbox.create(
    template='base',
    timeout=300,
    envs={'NODE_ENV': 'production'},
    metadata={'owner': 'my-agent'},
)
```

### `Sandbox.create(**kwargs)`

Creates a new sandbox and returns a connected `Sandbox` instance.

<ParamField body="template" type="str" default="base">
  Container template to use.
</ParamField>
<ParamField body="timeout" type="int" default="300">
  Sandbox time-to-live in seconds.
</ParamField>
<ParamField body="api_key" type="str | None" default="None">
  API key. Falls back to `OPENSANDBOX_API_KEY` env var.
</ParamField>
<ParamField body="api_url" type="str | None" default="None">
  API base URL. Falls back to `OPENSANDBOX_API_URL` env var, then `https://app.opencomputer.dev`.
</ParamField>
<ParamField body="envs" type="dict[str, str] | None" default="None">
  Environment variables injected into the sandbox.
</ParamField>
<ParamField body="metadata" type="dict[str, str] | None" default="None">
  Arbitrary key-value metadata attached to the sandbox.
</ParamField>

**Returns:** `Sandbox`

## Usage

```python
sandbox = await Sandbox.create(template='base')
result = await sandbox.commands.run('echo "hello"')
print(result.stdout)
await sandbox.kill()
```

## Connecting to an Existing Sandbox

```python
sandbox = await Sandbox.connect(
    'sandbox-abc123',
    api_key='sk-...',
)
```

### `Sandbox.connect(sandbox_id, **kwargs)`

Connects to a running sandbox by ID.

<ParamField body="sandbox_id" type="str" required>
  The ID of the sandbox to connect to.
</ParamField>
<ParamField body="api_key" type="str | None" default="None">
  API key override.
</ParamField>
<ParamField body="api_url" type="str | None" default="None">
  API URL override.
</ParamField>

**Returns:** `Sandbox`

## Properties

| Property | Type | Description |
| --- | --- | --- |
| `sandbox_id` | `str` | Unique identifier for the sandbox |
| `domain` | `str` | Public domain for the sandbox (e.g. `abc123.workers.opencomputer.dev`). HTTP traffic to this domain is routed directly into the sandbox. |
| `status` | `str` | Current status: `"running"`, `"stopped"`, or `"error"` |
| `template` | `str` | Template used to create the sandbox |
| `files` | `Filesystem` | [Filesystem](/sdks/python/filesystem) operations |
| `commands` | `Commands` | [Command](/sdks/python/commands) execution |
| `pty` | `Pty` | [PTY](/sdks/python/pty) terminal access |

## Instance Methods

### `await sandbox.kill()`

Stops and destroys the sandbox.

```python
await sandbox.kill()
```

**Returns:** `None`

### `await sandbox.is_running()`

Checks if the sandbox is still alive.

```python
if not await sandbox.is_running():
    print('Sandbox has stopped')
```

**Returns:** `bool`

### `await sandbox.set_timeout(timeout)`

Updates the sandbox timeout. Resets the TTL countdown.

```python
# Extend for another 10 minutes
await sandbox.set_timeout(600)
```

<ParamField body="timeout" type="int" required>
  New timeout in seconds.
</ParamField>

**Returns:** `None`

### `sandbox.close()`

Closes the underlying HTTP client connections without killing the sandbox.

```python
sandbox.close()
```

**Returns:** `None`
