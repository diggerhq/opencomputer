---
title: "PTY"
description: "Interactive terminal sessions inside a sandbox"
---

The `Pty` module provides interactive pseudo-terminal (PTY) sessions over WebSocket. Access it via `sandbox.pty`.

## Creating a PTY Session

```python
session = await sandbox.pty.create(
    cols=120,
    rows=40,
    on_output=lambda data: print(data.decode(), end=''),
)
```

### `await sandbox.pty.create(**kwargs)`

Opens a new interactive terminal session.

<ParamField body="cols" type="int" default="80">
  Terminal width in columns.
</ParamField>
<ParamField body="rows" type="int" default="24">
  Terminal height in rows.
</ParamField>
<ParamField body="on_output" type="Callable[[bytes], None] | None" default="None">
  Callback invoked when the terminal produces output.
</ParamField>

**Returns:** `PtySession`

## PtySession

`PtySession` is a dataclass with the following interface:

| Property / Method | Type | Description |
| --- | --- | --- |
| `session_id` | `str` | Unique session identifier |
| `sandbox_id` | `str` | ID of the parent sandbox |
| `send(data)` | `async (str \| bytes) -> None` | Send input to the terminal |
| `recv()` | `async () -> bytes` | Receive output from the terminal |
| `close()` | `async () -> None` | Close the PTY session |

## Examples

### Run an Interactive Command

```python
session = await sandbox.pty.create(
    on_output=lambda data: print(data.decode(), end=''),
)

# Type a command
await session.send('ls -la\n')

# Wait for output
import asyncio
await asyncio.sleep(2)

await session.close()
```

### Manual Receive Loop

```python
session = await sandbox.pty.create()

await session.send('echo "hello"\n')

# Read output manually
data = await session.recv()
print(data.decode())

await session.close()
```

<Note>
  PTY sessions use WebSocket connections under the hood. Each session maintains a persistent connection to the sandbox worker.
</Note>
